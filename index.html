<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Strudel ì½”ë”© ìŒì•… ì„¸ë¯¸ë‚˜</title>
  <script src="https://unpkg.com/@strudel/repl@latest"></script>
  <style>
    /* ë§¥(Mac) ê¸°ë³¸ í°íŠ¸ì™€ ê¹”ë”í•œ ë¬¸ì„œ ì—¬ë°± ì„¤ì • */
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; color: #333; }
    h1, h2 { border-bottom: 1px solid #ddd; padding-bottom: 10px; }
    
    /* ê³µì‹ ì‚¬ì´íŠ¸ì˜ 'MiniRepl' í”Œë ˆì´ì–´ ë””ìì¸ ì™„ë²½ ì¬í˜„ ğŸ¨ */
    .strudel-wrap {
      display: flex;
      background: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      overflow: hidden;
      margin-bottom: 30px;
    }
    
    /* ì™¼ìª½ íšŒìƒ‰ ë²„íŠ¼ ë°” ì˜ì—­ */
    .strudel-controls {
      display: flex;
      flex-direction: column;
      background: #f8fafc;
      border-right: 1px solid #e2e8f0;
      padding: 10px;
      gap: 10px;
    }

    /* ì¬ìƒ/ì •ì§€ ë²„íŠ¼ ë””ìì¸ */
    .strudel-controls button {
      background: white;
      border: 1px solid #cbd5e1;
      border-radius: 6px;
      width: 36px;
      height: 36px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
      transition: background 0.2s;
    }
    .strudel-controls button:hover { background: #f1f5f9; }

    /* ì—ë””í„°ê°€ í™”ë©´ì„ ê½‰ ì±„ìš°ë„ë¡ ì„¤ì • */
    strudel-editor {
      flex-grow: 1;
      min-height: 120px;
      padding: 0;
    }
  </style>
</head>
<body>

  <h1>ğŸ¹ Strudel ì½”ë”© ìŒì•… ì„¸ë¯¸ë‚˜</h1>
  <p>ê³µì‹ ì›Œí¬ìƒµ ë¬¸ì„œì— ì„ë² ë“œëœ í”Œë ˆì´ì–´ì™€ ì‹œê°ì , ê¸°ëŠ¥ì ìœ¼ë¡œ ë™ì¼í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.</p>
  
  <h2>1. ì²« ë²ˆì§¸ ë¹„íŠ¸</h2>
  <div class="strudel-wrap">
    <div class="strudel-controls">
      <button class="play-btn" title="ì¬ìƒ (Cmd + Enter)">â–¶ï¸</button>
      <button class="stop-btn" title="ì •ì§€ (Escape)">â¹ï¸</button>
    </div>
    <strudel-editor>
</strudel-editor>
  </div>

  <h2>2. ë©œë¡œë”” ì—°ì£¼</h2>
  <div class="strudel-wrap">
    <div class="strudel-controls">
      <button class="play-btn" title="ì¬ìƒ (Cmd + Enter)">â–¶ï¸</button>
      <button class="stop-btn" title="ì •ì§€ (Escape)">â¹ï¸</button>
    </div>
    <strudel-editor>
</strudel-editor>
  </div>

  <script>
    // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ë¥¼ ë²„íŠ¼ê³¼ ì§ì ‘ ì—°ê²°í•˜ëŠ” ë§ˆë²•ì˜ ìŠ¤í¬ë¦½íŠ¸ ğŸª„
    document.querySelectorAll('.strudel-wrap').forEach(wrap => {
      const playBtn = wrap.querySelector('.play-btn');
      const stopBtn = wrap.querySelector('.stop-btn');
      const editor = wrap.querySelector('strudel-editor');

      // 1. ì¬ìƒ ë²„íŠ¼: ë§¥(Mac)ì˜ 'Cmd + Enter' ë‹¨ì¶•í‚¤ë¥¼ ì—ë””í„° ì•ˆì—ì„œ ëˆ„ë¥¸ ê²ƒì²˜ëŸ¼ ê°•ì œ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤.
      playBtn.addEventListener('click', () => {
        editor.dispatchEvent(new KeyboardEvent('keydown', {
          key: 'Enter',
          metaKey: true, // ë§¥(Mac) í™˜ê²½ Cmd í‚¤ ì§€ì›
          ctrlKey: true, 
          bubbles: true
        }));
      });

      // 2. ì •ì§€ ë²„íŠ¼: Strudelì˜ ê¸€ë¡œë²Œ ì •ì§€ ë‹¨ì¶•í‚¤ì¸ 'Escape' í‚¤ë¥¼ ëˆ„ë¥¸ ê²ƒì²˜ëŸ¼ ì†ì—¬ì„œ ìŒì•…ì„ ë•ë‹ˆë‹¤.
      stopBtn.addEventListener('click', () => {
        editor.dispatchEvent(new KeyboardEvent('keydown', {
          key: 'Escape',
          bubbles: true
        }));
      });
    });
  </script>
</body>
</html>
